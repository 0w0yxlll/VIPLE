#VIPLE

这个文档对应的是教材中第三章：Physical Robot and Maze Navigation
教材中介绍了算法和编写的主要过程
这里讲讲关于机器人及迷宫航行的经验教训

--------------------------------------------------------------------------------

机器人走迷宫的算法在教材中介绍了两种
（其实远不止这两种 我觉得介绍他们是因为比较容易理解和运用）
第一种是沿着右墙走（可以严谨地证明这是正确的）
第二种是每次走到头就比较两个距离（教材介绍得很详细了）
教材把它们的算法图直接画了出来 可以按照上面说的扔到集成开发环境里

--------------------------------------------------------------------------------

但是 如果直接扔进去 也许算法是正确的 机器人也不一定能成功走出迷宫
下面来讲一下扔完算法之后要做的事情

首先是调端口 检查程序 
这个比较麻烦
（详见：《ASU VIPLE-关于VIPLE语言的个人看法》）
（不建议先用Unity 3D模拟 因为算法的正确性有保证 就算没有也能用真实的机器人来调 
而且改端口太麻烦了）

然后是修改轮子速度（当然 这个是我的习惯 不一定要这么做）
不需要太快 平稳一点比较好
如果太快了转弯会不准 其他参数就很难调了
太慢了也不行 因为如果卡角落或者撞墙的时候 太慢会导致机器人卡死

然后是修改时间
这里包括了修改timer和转体时间：

修改timer有两种功能：

一是确定每次用传感器测数据前后的间隔
这里机器人编程属于事件驱动编程 会讲求顺序
（详见：《Event-driven Programming-关于事件驱动编程的个人看法》）
timer的停顿规定了顺序 
防止cpu计算顺序混乱
导致的返回状态（state）的混乱
导致的状态转移（transistion）的混乱
导致的的动作（action）的混乱
（听起来有点像绕口令）
这刚好对应了有限状态机的三个部分
（详见：《Finite State Machine-关于有限状态机的个人看法》）
（OS:感觉知识都串起来了有木有><）
机器人不能一直用传感器测值 要不然可能会出现原地打转的情况
（这个自己脑补--。）
要确定测值的间隔
同时，在状态发生改变后 也需要timer来调节（来~在这停顿）
举个例子 检测到可以右转后 为了让机器人尽可能走在路中间
要用timer让它继续走一小段才转动 而不是立刻转动
转动完也许会需要一小段停顿来稳住再向前走

二是通过调节转向时间来使机器人转向更加精确
在集成开发环境中的Unity 3D模拟器中 可以直接规定转向角度
但是在实际中 只能通过调整左右轮子的速度和转向时间来控制
我一般是固定速度 改时间的（个人习惯 感觉这样会精准一点）
（多说一句 转动轴上的轮子速度最好改成0 这样误差不会太大 也好调一点 
另外的轮子速度可以调得比直走速度慢一点）
这个要不断尝试 不断改 使得结果更加理想化 

--------------------------------------------------------------------------------

在比赛的时候 我也去看了一下别的学校写的程序
两种算法都有 
感觉第二种（比较距离的）可以把速度调的相对比较快 但是如果时间调不好就很麻烦
第一种会稳妥一点

实践的时候常常出现一些很好玩的现象 
比如说 我们组的在走直道的时候是卡墙边一直擦着走的 莫名鬼畜
有的组由于误差走得弯弯扭扭的 转来转去有点喜感
还有的直接莫名其妙的掠过了一个岔口 省去了在死胡同里面绕一圈的时间 666

--------------------------------------------------------------------------------

我上传了自己的机器人走迷宫程序（maze_final.xml）
是比赛的时候用的 采用的是一直沿右墙的算法
可以参考 但是参数就不要参考了
（因为不同的机器人、场地需要的参数不同
就算是同一个机器人 换一个电池都要改参数的）
最后比赛的成绩不错 差10分满分 rank2

以上。
